---
import '../styles/global.css';

interface Props {
	title: string;
}

const { title } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="重実不動産 - 岡山の物件探しは当社へ。賃貸・売買・駐車場まで幅広く対応" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<title>{title}</title>
		<style>
			/* バーガーメニューアニメーション */
			.burger-icon {
				display: block;
				width: 24px;
				height: 18px;
				position: relative;
			}

			.burger-line {
				display: block;
				width: 100%;
				height: 2px;
				background-color: currentColor;
				position: absolute;
				left: 0;
				transition: all 0.3s ease;
			}

			.burger-line-1 {
				top: 0;
			}

			.burger-line-2 {
				top: 8px;
			}

			.burger-line-3 {
				top: 16px;
			}

			#mobile-menu-button.active .burger-line-1 {
				top: 8px;
				transform: rotate(45deg);
			}

			#mobile-menu-button.active .burger-line-2 {
				opacity: 0;
			}

			#mobile-menu-button.active .burger-line-3 {
				top: 8px;
				transform: rotate(-45deg);
			}

			.mobile-menu {
				max-height: 0;
				overflow: hidden;
				transition: max-height 0.3s ease;
			}

			.mobile-menu.open {
				max-height: 400px;
				margin-top: 1rem;
				padding-bottom: 1rem;
				border-top: 1px solid #e5e7eb;
			}
		</style>
	</head>
	<body class="bg-[#F9FAFB]">
		<!-- ヘッダー -->
		<header class="sticky top-0 z-50 bg-white shadow-sm">
			<div class="container mx-auto px-4 py-2.5">
				<div class="flex items-center justify-between">
					<!-- ロゴ部分 -->
					<a href="/" class="flex items-center">
						<img src="/logo.svg" alt="重実不動産ロゴ" class="h-12 md:h-14" />
					</a>
					
					<!-- PC ナビゲーション -->
					<nav class="hidden lg:flex items-center space-x-6">
						<a href="/" class={`transition-colors ${currentPath === '/' ? 'text-[#5AB9CE] font-semibold' : 'text-gray-600 hover:text-[#5AB9CE]'}`}>トップ</a>
						<a href="/news" class={`transition-colors ${currentPath === '/news' ? 'text-[#5AB9CE] font-semibold' : 'text-gray-600 hover:text-[#5AB9CE]'}`}>お知らせ</a>
						<a href="/company" class={`transition-colors ${currentPath === '/company' ? 'text-[#5AB9CE] font-semibold' : 'text-gray-600 hover:text-[#5AB9CE]'}`}>会社概要</a>
						<a href="/business" class={`transition-colors ${currentPath === '/business' ? 'text-[#5AB9CE] font-semibold' : 'text-gray-600 hover:text-[#5AB9CE]'}`}>取引業者様</a>
						<a href="/contact" class={`transition-colors ${currentPath === '/contact' ? 'text-[#5AB9CE] font-semibold' : 'text-gray-600 hover:text-[#5AB9CE]'}`}>お問い合わせ</a>
						<a href="tel:086-123-4567" class="flex items-center space-x-2 bg-[#5AB9CE] text-white px-5 py-2.5 rounded-lg hover:bg-[#4AA8BD] transition-colors shadow-md">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
							</svg>
							<span class="font-semibold">086-123-4567</span>
						</a>
					</nav>

					<!-- モバイル 電話ボタン＋メニューボタン -->
					<div class="lg:hidden flex items-center space-x-2">
						<a href="tel:086-123-4567" class="flex items-center justify-center bg-[#5AB9CE] text-white p-2.5 rounded-lg hover:bg-[#4AA8BD] transition-colors shadow-md">
							<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
							</svg>
						</a>
						<button id="mobile-menu-button" class="p-2 text-gray-600 hover:text-[#5AB9CE] relative w-10 h-10">
							<span class="burger-icon">
								<span class="burger-line burger-line-1"></span>
								<span class="burger-line burger-line-2"></span>
								<span class="burger-line burger-line-3"></span>
							</span>
						</button>
					</div>
				</div>

				<!-- モバイルメニュー -->
				<nav id="mobile-menu" class="mobile-menu">
					<a href="/" class={`block py-3 px-4 transition-colors ${currentPath === '/' ? 'text-[#5AB9CE] font-semibold bg-[#5AB9CE]/5' : 'text-gray-600 hover:text-[#5AB9CE] hover:bg-gray-50'}`}>トップ</a>
					<a href="/news" class={`block py-3 px-4 transition-colors ${currentPath === '/news' ? 'text-[#5AB9CE] font-semibold bg-[#5AB9CE]/5' : 'text-gray-600 hover:text-[#5AB9CE] hover:bg-gray-50'}`}>お知らせ</a>
					<a href="/company" class={`block py-3 px-4 transition-colors ${currentPath === '/company' ? 'text-[#5AB9CE] font-semibold bg-[#5AB9CE]/5' : 'text-gray-600 hover:text-[#5AB9CE] hover:bg-gray-50'}`}>会社概要</a>
					<a href="/business" class={`block py-3 px-4 transition-colors ${currentPath === '/business' ? 'text-[#5AB9CE] font-semibold bg-[#5AB9CE]/5' : 'text-gray-600 hover:text-[#5AB9CE] hover:bg-gray-50'}`}>取引業者様</a>
					<a href="/contact" class={`block py-3 px-4 transition-colors ${currentPath === '/contact' ? 'text-[#5AB9CE] font-semibold bg-[#5AB9CE]/5' : 'text-gray-600 hover:text-[#5AB9CE] hover:bg-gray-50'}`}>お問い合わせ</a>
				</nav>
			</div>
		</header>

		<!-- メインコンテンツ -->
		<main>
			<slot />
		</main>

		<!-- フッター -->
		<footer class="bg-gray-800 text-white/80 py-8 mt-16">
			<div class="container mx-auto px-4">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
					<!-- 会社情報 -->
					<div>
						<h3 class="text-xl font-bold text-white mb-4">重実不動産</h3>
						<p class="text-sm mb-2">〒700-0000</p>
						<p class="text-sm mb-2">岡山市北区〇〇〇〇 1-2-3</p>
						<p class="text-sm mb-2">TEL: 086-123-4567</p>
						<p class="text-sm">FAX: 086-123-4568</p>
						<p class="text-sm mt-4">営業時間: 9:00〜18:00 / 定休日: 水曜日</p>
					</div>

					<!-- リンク -->
					<div>
						<h3 class="text-xl font-bold text-white mb-4">サイトマップ</h3>
						<div class="space-y-2">
							<a href="/" class="block text-sm hover:text-[#7DD3E8] transition-colors">トップページ</a>
							<a href="/news" class="block text-sm hover:text-[#7DD3E8] transition-colors">お知らせ</a>
							<a href="/company" class="block text-sm hover:text-[#7DD3E8] transition-colors">会社概要</a>
							<a href="/business" class="block text-sm hover:text-[#7DD3E8] transition-colors">取引業者様</a>
							<a href="/contact" class="block text-sm hover:text-[#7DD3E8] transition-colors">お問い合わせ</a>
						</div>
					</div>
				</div>

				<!-- コピーライト -->
				<div class="border-t border-white/20 pt-6 text-center">
					<p class="text-sm">© 2026 重実不動産 All Rights Reserved.</p>
				</div>
			</div>
		</footer>

		<!-- モバイルメニュートグルスクリプト -->
		<script>
			const mobileMenuButton = document.getElementById('mobile-menu-button');
			const mobileMenu = document.getElementById('mobile-menu');

			if (mobileMenuButton && mobileMenu) {
				mobileMenuButton.addEventListener('click', () => {
					mobileMenuButton.classList.toggle('active');
					mobileMenu.classList.toggle('open');
				});
			}
		</script>
	</body>
</html>
